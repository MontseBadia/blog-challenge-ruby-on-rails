<li class="post-card">
  <h3><%= highlight post.title, params[:search] %></h3>
  <h4>User: <%= post.user.name %></h4>
  <h4>Category: <%= highlight post.category, params[:search] %></h4>
  <h4>Language: <%= post.language %></h4>
  <h4>Time to read: <%= post.readable_time %></h4>
  <h4>Submitted <%= time_ago_in_words(post.created_at)%> ago</h4>
  <p><%= highlight(truncate(post.body, length: 200, omission: "...") { link_to 'Read More', post }, params[:search]) %></p>
  <div class="post-image-container">
    <% if post.image.attached? %>
      <%= image_tag(post.image, class: 'fit-image') %>
    <% end %>
  </div>
  <% if current_user %>
    <p>
      <%= link_to 'Edit', edit_post_path(post) %>
      <%= link_to 'Delete', post_path(post), method: :delete %>
    </p>
    <div id="btn-likes-<%= post.id %>">
      <%= render partial: 'posts/like_dislike', locals: { post: post } %>
    </div>
  <% end %>
  <div id="likes-<%= post.id %>">
    <%= pluralize(post.likes.size, 'Like') %>: <%= post.name_likers %>
  </div>
</li>